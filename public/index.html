<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />

    <title>React App</title>
    <style media="screen">
    #messages{
      height 340px;
      background-color: grey;

    }
    p{
      color:white;
    }
    </style>
  </head>
  <body>
    <div id="root">Chat</div>
    <div id="messages">


    </div>
    <div>


      <form id="msg-form" autocomplete="off">
        <input id="msg" type="text" placeholder="Enter Message">
        <input id='submit-msg-btn' type="submit" value="Submit">
      </form>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
    <script src="/socket.io/socket.io.js" type="text/javascript"></script>
    <script type="text/javascript">
      //server side io

      const socket = io();
  const form = $('#msg-form');
  const div = $('#messages');
socket.on('msg',(msg)=>{
  div.append(`<p>${msg}</p>`)
})
form.on('submit', (e)=>{
  e.preventDefault();
  const msg = e.target.elements.msg.value;
    socket.emit("chat", msg);
    e.target.elements.msg.value = '';
})

socket.on('msg',(m)=>{

})
    </script>
  </body>
</html>
